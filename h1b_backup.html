<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<style>
        table {
          font-family: arial, sans-serif;
          border-collapse: collapse;
          width: 100%;
        }
        
        td, th {
          border: 1px solid #dddddd;
          text-align: left;
          padding: 8px;
        }
        
        tr:nth-child(even) {
          background-color: #dddddd;
        }
        </style>

<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <ul class="nav navbar-nav">
                <li><a href="index.html"><b>Home</b></a></li>
                <li><a href="h1b.html"><b>H1B Info</b></a></li>
                <li><a href="page.html"><b>Job List</b></a></li>
                <li><a href="course.html"><b>Course List</b></a></li>
            </ul>
        </div>
    </nav>

    <head>
        <title> H1B statistics of the first 100 companies in LA, 2021</title>
        <meta charset="UTF-8">
        </meta>
    </head>

    <body>
        <h1 title="I'm a header">H1B statistics of the first 100 companies in LA, 2021</h1>
        <a href="https://www.myvisajobs.com/Reports/2021-H1B-Visa-Sponsor.aspx">H1B Data Source</a>
        <p></p>

    </body>
    <table style="width:70%" id="ex-table">
        <tr id="tr">
            <th>Rank</th>
            <th>Company Name</th>
            <th>Number of Sponsorship in 2021</th>
            <th>Average Salary（USD）</th>
    </table>

    <title>Firebase</title>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-database.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.1/firebase.js"></script>

    <script id="MainScript">
        var firebaseConfig = {
            apiKey: "AIzaSyBR9y26seFnr3wyCXAQuz8thlUKKJ-LHGA",
            authDomain: "h1b-la.firebaseapp.com",
            databaseURL: "https://h1b-la-default-rtdb.firebaseio.com",
            projectId: "h1b-la",
            storageBucket: "h1b-la.appspot.com",
            messagingSenderId: "1089185357986",
            appId: "1:1089185357986:web:0681d06e0e4c446bd0f7fb",
            measurementId: "G-MJXY32237R"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        function FetchAllData() {
            firebase.database().ref('h1b_LA').once('value', function (snapshot) {
                if (snapshot.exists()) {
                    var content = '';
                    snapshot.forEach(function (data) {
                        var val = data.val();
                        content += '<tr>';
                        content += '<td>' + val.rank + '</td>';
                        content += '<td>' + val.sponsor + '</td>';
                        content += '<td>' + val.count + '</td>';
                        content += '<td>' + val.salary + '</td>';
                        content += '</tr>';
                    });
                    $('#ex-table').append(content);
                }
            });

        }
        window.onload(FetchAllData());
    </script>

</body>

</html>